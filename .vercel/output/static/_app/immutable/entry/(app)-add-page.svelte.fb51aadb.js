import{S as re,i as le,s as ne,k as d,a as x,l as m,m as v,c as P,h as o,n as u,b as G,I as i,a5 as ae,T as K,v as oe,d as A,f as ue,g as T,V as ce,q as S,r as N,u as fe,y as O,z as q,A as B,B as C,J as de}from"../chunks/index.485fcb8d.js";import{P as ie}from"../chunks/plus-icon.e3782aa1.js";import{A as me}from"../chunks/avatar-circle.72291414.js";import{d as _e}from"../chunks/db.a3b95309.js";import{m as he}from"../chunks/mixpanel.cjs.2e5b2863.js";import{L as pe}from"../chunks/loading-dots.e3f7c445.js";function ve(c){let e,a,r,s;return r=new pe({}),{c(){e=d("div"),a=S("Generating audio story "),O(r.$$.fragment),this.h()},l(t){e=m(t,"DIV",{class:!0});var l=v(e);a=N(l,"Generating audio story "),q(r.$$.fragment,l),l.forEach(o),this.h()},h(){u(e,"class","absolute flex items-center gap-2")},m(t,l){G(t,e,l),i(e,a),B(r,e,null),s=!0},i(t){s||(T(r.$$.fragment,t),s=!0)},o(t){A(r.$$.fragment,t),s=!1},d(t){t&&o(e),C(r)}}}function ge(c){let e,a,r;return a=new ie({}),{c(){e=d("div"),O(a.$$.fragment),this.h()},l(s){e=m(s,"DIV",{class:!0});var t=v(e);q(a.$$.fragment,t),t.forEach(o),this.h()},h(){u(e,"class","h-6 w-6 text-primary")},m(s,t){G(s,e,t),B(a,e,null),r=!0},i(s){r||(T(a.$$.fragment,s),r=!0)},o(s){A(a.$$.fragment,s),r=!1},d(s){s&&o(e),C(a)}}}function se(c){let e,a,r;return{c(){e=d("div"),a=d("p"),r=S(c[0]),this.h()},l(s){e=m(s,"DIV",{class:!0});var t=v(e);a=m(t,"P",{class:!0});var l=v(a);r=N(l,c[0]),l.forEach(o),t.forEach(o),this.h()},h(){u(a,"class","text-red-500 font-bold"),u(e,"class","flex justify-center w-full items-center")},m(s,t){G(s,e,t),i(e,a),i(a,r)},p(s,t){t&1&&fe(r,s[0])},d(s){s&&o(e)}}}function be(c){let e,a,r,s,t,l,_,f,E,g,D,w,k,j;const L=[ge,ve],b=[];function I(n,p){return n[2]?1:0}_=I(c),f=b[_]=L[_](c);let h=c[0]&&se(c);return{c(){e=d("div"),a=d("form"),r=d("input"),s=x(),t=d("div"),l=d("button"),f.c(),D=x(),h&&h.c(),this.h()},l(n){e=m(n,"DIV",{class:!0});var p=v(e);a=m(p,"FORM",{class:!0});var y=v(a);r=m(y,"INPUT",{placeholder:!0,class:!0}),s=P(y),t=m(y,"DIV",{class:!0});var U=v(t);l=m(U,"BUTTON",{type:!0,class:!0});var V=v(l);f.l(V),V.forEach(o),U.forEach(o),y.forEach(o),D=P(p),h&&h.l(p),p.forEach(o),this.h()},h(){u(r,"placeholder","Paste a URL"),u(r,"class","w-full h-12 pl-6 rounded-primary pr-24 outline-none bg-background"),u(l,"type","submit"),l.disabled=c[2],u(l,"class",E=(c[2]?"w-full gradient-animation":"w-10 bg-accent")+" transition-all duration-150 rounded-primary h-10 w-10 flex gap-2 items-center justify-center svelte-10icyb1"),u(t,"class",g="absolute top-1 right-1 transition-all duration-300 "+(c[2]?"min-w-[calc(100%-8px)]":"min-w-0")),u(a,"class","flex flex-row w-full relative"),u(e,"class","w-full")},m(n,p){G(n,e,p),i(e,a),i(a,r),ae(r,c[1]),i(a,s),i(a,t),i(t,l),b[_].m(l,null),i(e,D),h&&h.m(e,null),w=!0,k||(j=[K(r,"paste",c[4]),K(r,"input",c[5]),K(a,"submit",c[3])],k=!0)},p(n,[p]){p&2&&r.value!==n[1]&&ae(r,n[1]);let y=_;_=I(n),_!==y&&(oe(),A(b[y],1,1,()=>{b[y]=null}),ue(),f=b[_],f||(f=b[_]=L[_](n),f.c()),T(f,1),f.m(l,null)),(!w||p&4)&&(l.disabled=n[2]),(!w||p&4&&E!==(E=(n[2]?"w-full gradient-animation":"w-10 bg-accent")+" transition-all duration-150 rounded-primary h-10 w-10 flex gap-2 items-center justify-center svelte-10icyb1"))&&u(l,"class",E),(!w||p&4&&g!==(g="absolute top-1 right-1 transition-all duration-300 "+(n[2]?"min-w-[calc(100%-8px)]":"min-w-0")))&&u(t,"class",g),n[0]?h?h.p(n,p):(h=se(n),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i(n){w||(T(f),w=!0)},o(n){A(f),w=!1},d(n){n&&o(e),b[_].d(),h&&h.d(),k=!1,ce(j)}}}function $e(c,e,a){let r,s,t;const l=async()=>{if(t)return;let E;try{E=new URL(s)}catch{return a(0,r="Please use a valid URL"),!1}a(0,r=null),he.track("url submitted",{url:s}),a(2,t=!0);try{const g=await _e.bookmarks.post(s)}finally{a(2,t=!1),a(1,s="")}},_=()=>{setTimeout(()=>{l()},4)};function f(){s=this.value,a(1,s)}return c.$$.update=()=>{c.$$.dirty&1},a(2,t=!1),[r,s,t,l,_,f]}class ye extends re{constructor(e){super(),le(this,e,$e,be,ne,{})}}function we(c){let e,a,r,s,t,l,_,f,E,g,D,w,k,j,L,b,I,h,n,p,y,U,V,H;return f=new ie({}),I=new me({}),V=new ye({}),{c(){e=d("section"),a=d("div"),r=d("div"),s=d("div"),t=d("div"),l=d("div"),_=d("div"),O(f.$$.fragment),E=x(),g=d("h2"),D=S("Add"),w=x(),k=d("p"),j=S("Add a story manually"),L=x(),b=d("div"),O(I.$$.fragment),h=x(),n=d("div"),p=d("h2"),y=S("Paste a url"),U=x(),O(V.$$.fragment),this.h()},l($){e=m($,"SECTION",{class:!0});var R=v(e);a=m(R,"DIV",{class:!0});var Q=v(a);r=m(Q,"DIV",{class:!0});var z=v(r);s=m(z,"DIV",{});var F=v(s);t=m(F,"DIV",{class:!0});var J=v(t);l=m(J,"DIV",{class:!0});var W=v(l);_=m(W,"DIV",{class:!0});var X=v(_);q(f.$$.fragment,X),X.forEach(o),W.forEach(o),E=P(J),g=m(J,"H2",{class:!0});var Y=v(g);D=N(Y,"Add"),Y.forEach(o),J.forEach(o),w=P(F),k=m(F,"P",{class:!0});var Z=v(k);j=N(Z,"Add a story manually"),Z.forEach(o),F.forEach(o),L=P(z),b=m(z,"DIV",{});var ee=v(b);q(I.$$.fragment,ee),ee.forEach(o),z.forEach(o),Q.forEach(o),h=P(R),n=m(R,"DIV",{class:!0});var M=v(n);p=m(M,"H2",{class:!0});var te=v(p);y=N(te,"Paste a url"),te.forEach(o),U=P(M),q(V.$$.fragment,M),M.forEach(o),R.forEach(o),this.h()},h(){u(_,"class","h-6 w-6"),u(l,"class","h-7 w-7 bg-primary text-white rounded-full flex items-center justify-center"),u(g,"class","font-frank text-2xl leading-7 font-bold"),u(t,"class","flex gap-2 pb-2"),u(k,"class","text-sm"),u(r,"class","flex justify-between pb-2 px-6"),u(a,"class","bg-background"),u(p,"class","font-frank font-bold"),u(n,"class","bg-white w-full p-4 px-6 flex flex-col gap-4 mb-8"),u(e,"class","relative")},m($,R){G($,e,R),i(e,a),i(a,r),i(r,s),i(s,t),i(t,l),i(l,_),B(f,_,null),i(t,E),i(t,g),i(g,D),i(s,w),i(s,k),i(k,j),i(r,L),i(r,b),B(I,b,null),i(e,h),i(e,n),i(n,p),i(p,y),i(n,U),B(V,n,null),H=!0},p:de,i($){H||(T(f.$$.fragment,$),T(I.$$.fragment,$),T(V.$$.fragment,$),H=!0)},o($){A(f.$$.fragment,$),A(I.$$.fragment,$),A(V.$$.fragment,$),H=!1},d($){$&&o(e),C(f),C(I),C(V)}}}class Pe extends re{constructor(e){super(),le(this,e,null,we,ne,{})}}export{Pe as default};
